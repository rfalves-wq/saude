{% extends 'usuarios/base.html' %}

{% block title %}Dashboard Recepção{% endblock %}

{% block content %}


<div class="container mt-4">

    <!-- Cabeçalho -->
    <div class="d-flex justify-content-between align-items-center mb-4">
        <div>
            <h2 class="fw-bold">
                <i class="bi bi-speedometer2 text-primary"></i> Dashboard - Recepção
            </h2>
            <p class="text-muted mb-0">
                Gerencie pacientes, agendamentos e fluxo de atendimento.
            </p>
        </div>

        <form method="post" action="{% url 'logout' %}">
            {% csrf_token %}
            <button type="submit" class="btn btn-danger">
                <i class="bi bi-box-arrow-right"></i> Sair
            </button>
        </form>
    </div>

    <!-- ================= RESUMO ================= -->
    <div class="row mb-4">

        <div class="col-md-3 mb-3">
            <div class="card shadow-sm text-center h-100 dashboard-card">
                <div class="card-body">
                    <i class="bi bi-people-fill fs-1 text-primary"></i>
                    <h6 class="text-muted mt-2">Total de Pacientes</h6>
                    <h2 class="fw-bold text-primary">{{ total_pacientes }}</h2>
                </div>
            </div>
        </div>

        <div class="col-md-3 mb-3">
            <div class="card shadow-sm text-center h-100 dashboard-card">
                <div class="card-body">
                    <i class="bi bi-calendar-check-fill fs-1 text-success"></i>
                    <h6 class="text-muted mt-2">Cadastrados Hoje</h6>
                    <h2 class="fw-bold text-success">{{ pacientes_hoje }}</h2>
                </div>
            </div>
        </div>

        <div class="col-md-2 mb-3">
            <div class="card shadow-sm text-center h-100 dashboard-card">
                <div class="card-body">
                    <i class="bi bi-gender-male fs-2 text-primary"></i>
                    <h6 class="text-muted mt-2">Masculino</h6>
                    <h4 class="text-primary fw-bold">
                        {{ total_masculino }}
                        <small class="text-muted">({{ porcent_m }}%)</small>
                    </h4>

                </div>
            </div>
        </div>

        <div class="col-md-2 mb-3">
            <div class="card shadow-sm text-center h-100 dashboard-card">
                <div class="card-body">
                    <i class="bi bi-gender-female fs-2 text-danger"></i>
                    <h6 class="text-muted mt-2">Feminino</h6>
                    <h4 class="text-danger fw-bold">
                        {{ total_feminino }}
                        <small class="text-muted">({{ porcent_f }}%)</small>
                    </h4>
                </div>
            </div>
        </div>

        <div class="col-md-2 mb-3">
            <div class="card shadow-sm text-center h-100 dashboard-card">
                <div class="card-body">
                    <i class="bi bi-gender-ambiguous fs-2 text-success"></i>
                    <h6 class="text-muted mt-2">Intersexo</h6>
                    <h4 class="text-success fw-bold">
                        {{ total_intersexo }}
                        <small class="text-muted">({{ porcent_i }}%)</small>
                    </h4>
                </div>
            </div>
        </div>

    </div>

    

    <!-- ================= ÁREA PRINCIPAL ================= -->
    <div class="row">

        <!-- CARD PACIENTES -->
        <div class="col-md-6 mb-4">
            <div class="card shadow h-100 dashboard-card">
                <div class="card-body text-center">
                    <h4 class="card-title mb-3">
                        <i class="bi bi-person-vcard-fill text-primary"></i> Pacientes
                    </h4>
                    <p class="text-muted">
                        Cadastro, edição e consulta de pacientes.
                    </p>

                    <a href="{% url 'paciente_list' %}" class="btn btn-outline-primary me-2">
                        <i class="bi bi-list-ul"></i> Ver Pacientes
                    </a>

                    <a href="{% url 'paciente_create' %}" class="btn btn-success">
                        <i class="bi bi-plus-circle"></i> Novo Paciente
                    </a>
                </div>
            </div>
        </div>

        <!-- CARD AGENDAMENTOS -->
        <div class="col-md-6 mb-4">
            <div class="card shadow h-100 dashboard-card">
                <div class="card-body text-center">
                    <h4 class="card-title mb-3">
                        <i class="bi bi-calendar-event-fill text-success"></i> Agendamentos
                    </h4>
                    <p class="text-muted">
                        Controle da agenda e fluxo de atendimento.
                    </p>

                  <a href="{% url 'lista_agendamentos' %}" class="btn btn-outline-primary me-2">
    <i class="bi bi-list-check"></i> Ver Agendamentos
</a>
                   <a href="{% url 'agendar_paciente' %}" class="btn btn-success me-2">
    <i class="bi bi-plus-circle"></i> Novo Agendamento
</a>

                    
                </div>
            </div>
        </div>

    </div>

</div>

<!-- Estilo extra -->
<style>
    .dashboard-card {
        transition: all 0.2s ease-in-out;
        border-radius: 12px;
    }

    .dashboard-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
    }
</style>

{% endblock %}