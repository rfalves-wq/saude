{% extends 'usuarios/base.html' %}

{% block title %}Histórico de Triagens{% endblock %}

{% block content %}
<div class="container mt-5">
    <h2>Histórico de Triagens</h2>

    <style>
        .badge-risco {
            padding: 6px 10px;
            border-radius: 5px;
            font-weight: bold;
        }

        .Vermelho { background-color: #dc3545; color: white; }
        .Laranja { background-color: #fd7e14; color: white; }
        .Amarelo { background-color: #ffc107; color: black; }
        .Verde { background-color: #198754; color: white; }
        .Azul { background-color: #0d6efd; color: white; }
    </style>

    <table class="table table-striped mt-4">
        <thead>
            <tr>
                <th>Paciente</th>
                <th>Pressão</th>
                <th>Temperatura</th>
                <th>Classificação</th>
                <th>Data</th>
            </tr>
        </thead>
        <tbody>
            {% for t in triagens %}
            <tr>
                <td>{{ t.paciente.nome }}</td>
                <td>{{ t.pressao_arterial }}</td>
                <td>{{ t.temperatura }}</td>
                <td>
                    {% if t.classificacao_risco %}
                        <span class="badge-risco {{ t.classificacao_risco }}">
                            {{ t.classificacao_risco }}
                        </span>
                    {% else %}
                        —
                    {% endif %}
                </td>
                <td>{{ t.data_triagem }}</td>
            </tr>
            {% empty %}
            <tr>
                <td colspan="5">Nenhuma triagem registrada.</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}
